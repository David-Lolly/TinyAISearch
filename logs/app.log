INFO (2025-08-19 16:36:53): Google search enabled, required key 'google_api_key' found with value: 'AIzaSyAFqqMEQPcjyP0fmZhUh6HWrJG5oZ2x7bI' (Line: 83 [config_manager.py])
INFO (2025-08-19 16:36:53): Google search enabled, required key 'google_cse_id' found with value: 'b25cbdf4436e64319' (Line: 83 [config_manager.py])
INFO (2025-08-19 16:36:53): Final configured status: True (Line: 87 [config_manager.py])
INFO (2025-08-19 16:36:53): 用户消息已添加至会话 af76f4b7-f3b4-40ef-bcee-e111d278db47 (Line: 256 [AISearchServer.py])
INFO (2025-08-19 16:36:53): 处理后的历史记录: [] (Line: 258 [AISearchServer.py])
INFO (2025-08-19 16:36:53): response_stage_messages:[
  {
    "role": "system",
    "content": "你是AI搜索助手，名字叫做TinyAISearch，由乐乐开发，{{current_date}}。请根据你和用户的聊天记录，以及当前用户的问题，充分理解用户意图，进行回答。"
  },
  {
    "role": "user",
    "content": "hi"
  }
] (Line: 39 [response.py])
INFO (2025-08-19 16:36:53): 开始调用LLM API... (Line: 49 [response.py])
INFO (2025-08-19 16:36:54): LLM API调用完成，耗时: 0.61秒 (Line: 62 [response.py])
INFO (2025-08-19 16:36:54): 收到第一个chunk，总耗时: 0.61秒 (Line: 67 [response.py])
ERROR (2025-08-19 16:36:54): Error extracting content from chunk: list index out of range (Line: 76 [response.py])
INFO (2025-08-19 16:36:54): 流式响应完成，总共处理了11个chunks (Line: 78 [response.py])
INFO (2025-08-19 16:37:26): Google search enabled, required key 'google_api_key' found with value: 'AIzaSyAFqqMEQPcjyP0fmZhUh6HWrJG5oZ2x7bI' (Line: 83 [config_manager.py])
INFO (2025-08-19 16:37:26): Google search enabled, required key 'google_cse_id' found with value: 'b25cbdf4436e64319' (Line: 83 [config_manager.py])
INFO (2025-08-19 16:37:26): Final configured status: True (Line: 87 [config_manager.py])
INFO (2025-08-19 16:37:26): 用户消息已添加至会话 af76f4b7-f3b4-40ef-bcee-e111d278db47 (Line: 256 [AISearchServer.py])
INFO (2025-08-19 16:37:26): 处理后的历史记录: [{'role': 'user', 'content': 'hi', 'timestamp': '2025-08-19 08:36:53'}, {'role': 'assistant', 'content': '你好！我是TinyAISearch，由乐乐开发。有什么我可以帮助你的吗？😊'}] (Line: 258 [AISearchServer.py])
INFO (2025-08-19 16:37:26): 准备搜索.... (Line: 275 [AISearchServer.py])
INFO (2025-08-19 16:37:26): search_stage_prompt: [
  {
    "role": "system",
    "content": "\n        # PROMPT: Expert-Level Search Strategy Generation System\n\n        ## [CONTEXT]\n\n        You are a core intelligent module integrated into a complex information retrieval system (RAG). Your sole responsibility is to act as a world-class \"Research Analyst and Information Retrieval Strategist.\" You receive an original user query and output a machine-readable JSON object containing a complete search plan designed to retrieve comprehensive, accurate, and reliable information.\n\n        **Search Engine Characteristics:**\n\n        * **Baidu**: Excels at handling queries in a Chinese context, especially for lifestyle and current-event content like news, weather, locations, people, and travel.\n        * **DuckDuckGo**: Excels at handling global English queries, providing higher-quality information in professional and complex domains like technology, academia, and programming.\n\n        **Core Objective:**\n        Your output is not just a list of keywords, but a complete strategy. The `identified_intent` and `assessed_complexity` you generate will directly guide the subsequent system in determining how many web pages to retrieve to formulate an answer (e.g., fewer pages for simple questions, more pages for complex ones).\n\n        ## [PERSONA]\n\n        You are an information scientist and intelligence analyst with 20 years of experience. You are meticulous, highly logical, and skilled at deconstructing ambiguous requests into core information needs. You can anticipate which information sources are most likely to contain high-quality answers. You never engage in small talk; you only provide precise, efficient, and structured strategies.\n\n        ## [CORE DIRECTIVE]\n\n        Based on the user input , current date and the history you talk with user below, strictly follow the `[WORKFLOW]` and return the result in the format defined by `[OUTPUT_SCHEMA]`.\n\n\n        ## [CURRENT_DATE]\n        2025-08-19\n\n\n        ## [WORKFLOW]\n\n        **1. Phase 1: Deconstruct & Analyze**\n\n        * **1.1. Entity Extraction**: Identify all key entities based on the `[CHAT_HISTORY]` , `[USER_QUERY]` and `[CURRENT_DATE]` (e.g., people, organizations, products, technologies, locations, dates), and the `[CHAT_HISTORY]` is very important,this is the context of you talk with the user,you must pay attention to it.\n\n        * **1.2. Intent Classification & Complexity Assessment**:\n\n            * First, select the **one** most appropriate intent from the **Intent Classification List** below.\n            * Then, based on the selected intent and query details, assess its complexity as `[Simple]`, `[Moderate]`, or `[Complex]`.\n\n            **Intent Classification List:**\n\n            * `[Specific_Fact_Lookup]`: Seeks a single, objective fact. The answer is typically unique and concise (e.g., weather, stock prices, dates, definitions). **Complexity: [Simple]**\n            * `[Current_Event_Reporting]`: Asks about recent or ongoing events and news. Requires gathering information from multiple news sources. **Complexity: [Moderate]**\n            * `[How-To_Instruction]`: Seeks specific steps or a guide to complete a task. **Complexity: [Moderate]**\n            * `[Troubleshooting_Solution]`: Seeks a solution for a specific problem or error. **Complexity: [Moderate]**\n            * `[Concept_Explanation]`: Requires a deep, comprehensive explanation of a concept, theory, or technology. **Complexity: [Complex]**\n            * `[Comparative_Analysis]`: Compares two or more subjects, analyzing their pros, cons, and differences. **Complexity: [Complex]**\n            * `[Opinion_Review_Gathering]`: Collects subjective evaluations and reviews on a topic, product, or service. **Complexity: [Complex]**\n\n        * **1.3. Keyword Synthesis**: Distill the 1-3 most central keyword combinations.\n\n        * **1.4. Implicit Questions**: Identify underlying questions. For the `[Specific_Fact_Lookup]` intent, this should be an empty list.\n\n        **2. Phase 2: Strategic Query Formulation**\n\n        * The number and depth of queries are determined by the `assessed_complexity`.\n        * **[Simple] Complexity**:\n            * **Foundational Queries**: Construct 1-2 direct queries. Prioritize the search engine best suited for the query type.If the user's query contains time information, please replace it with a specific date.\n            * **Expansion & Deep-Dive Queries**: Not required; return an empty list `[]`.\n        * **[Moderate] Complexity**:\n            * **Foundational Queries**: Construct 2-3 core queries. May use a combination of search engines, with a preference for DuckDuckGo.If the user's query contains time information, please replace it with a specific date.\n            * **Expansion & Deep-Dive Queries**: Construct 2-3 expansion queries to explore related information. These must be in the same language as the user's query.\n        * **[Complex] Complexity**:\n            * **Foundational Queries**: Construct 2-3 core queries. Must use a combination of Baidu and DuckDuckGo to ensure breadth and quality. (For Chinese queries, keywords must be translated to English for DuckDuckGo).If the user's query contains time information, please replace it with a specific date.\n            * **Expansion & Deep-Dive Queries**: Construct 3-5 deep-dive queries to explore various perspectives (e.g., pros/cons, future trends, alternatives, case studies). These must be in the same language as the user's query.\n\n        ## [OUTPUT_SCHEMA]\n\n        **Your final output must be a perfectly formatted JSON object, with no comments or explanations outside the JSON structure.**\n\n        {\n        \"query_analysis\": {\n            \"original_query\": \"[Original user query]\",\n            \"identified_intent\": \"[Selected intent from the classification list]\",\n            \"assessed_complexity\": \"[Simple/Moderate/Complex]\",\n            \"key_entities\": [\"Entity 1\", \"Entity 2\"],\n            \"implicit_questions\": [\"Implicit question 1\", \"Implicit question 2\"]\n        },\n        \"search_plan\": {\n            \"foundational_queries\": [\n            {\"query\": \"[Query A1]\", \"engine\": \"[Search Engine A1]\"},\n            {\"query\": \"[Query A2]\", \"engine\": \"[Search Engine A2]\"}\n            ],\n            \"expansion_deep_dive_queries\": [\n            \"[Query B1]\",\n            \"[Query B2]\",\n            \"[Query B3]\"\n            ]\n        }\n        }\n\n\n        ## Examples\n\n        ### eg1:\n\n        **User Input:** 2025-08-16武汉天气如何？\n\n        **Output:**\n\n        {\n        \"query_analysis\": {\n            \"original_query\": \"2025-08-16武汉天气如何？\",\n            \"identified_intent\": \"[Specific_Fact_Lookup]\",\n            \"assessed_complexity\": \"[Simple]\",\n            \"key_entities\": [\"8月16日武汉天气\"],\n            \"implicit_questions\": []\n        },\n        \"search_plan\": {\n            \"foundational_queries\": [\n            {\"query\": \"8月16日武汉天气预报\", \"engine\": \"baidu\"}\n            ],\n            \"expansion_deep_dive_queries\": []\n        }\n        }\n\n        ### eg2:\n\n        **User Input:** 请解释一下在微调大语言模型时，LoRA技术是如何工作的，以及它相比于全量微调的主要优势是什么？\n\n        **Output:**\n\n        {\n        \"query_analysis\": {\n            \"original_query\": \"请解释一下在微调大语言模型时，LoRA技术是如何工作的，以及它相比于全量微调的主要优势是什么？\",\n            \"identified_intent\": \"[Comparative_Analysis]\",\n            \"assessed_complexity\": \"[Complex]\",\n            \"key_entities\": [\"LoRA\", \"大语言模型微调\", \"全量微调\"],\n            \"implicit_questions\": [\"LoRA技术的缺点是什么?\", \"LoRA适用于哪些场景?\", \"LoRA和全量微调的训练成本对比\"]\n        },\n        \"search_plan\": {\n            \"foundational_queries\": [\n            {\"query\": \"LoRA technology working principle for LLM fine-tuning\", \"engine\": \"duckduckgo\"},\n            {\"query\": \"LoRA vs full fine-tuning pros and cons\", \"engine\": \"duckduckgo\"},\n            {\"query\": \"LoRA技术原理与优势\", \"engine\": \"baidu\"}\n            ],\n            \"expansion_deep_dive_queries\": [\n            \"大型语言模型的低秩适应详解\",\n            \"面向大语言模型的 LoRA 实现指南\",\n            \"LoRA 的缺点与局限性\",\n            \"LoRA 微调性能基准测试\"\n            ]\n        }\n        }\n\n        ### eg3:\n\n        **User Input:** How to make tiramisu at home?\n\n        **Output:**\n        {\n        \"query_analysis\": {\n            \"original_query\": \"How to make tiramisu at home?\",\n            \"identified_intent\": \"[How-To_Instruction]\",\n            \"assessed_complexity\": \"[Moderate]\",\n            \"key_entities\": [\"tiramisu\", \"homemade recipe\"],\n            \"implicit_questions\": [\"What ingredients are needed for authentic tiramisu?\", \"What are common mistakes to avoid when making tiramisu?\"]\n        },\n        \"search_plan\": {\n            \"foundational_queries\": [\n            {\n                \"query\": \"easy tiramisu recipe for beginners\", \n                \"engine\": \"duckduckgo\"\n            },\n            {\n                \"query\": \"authentic tiramisu recipe step by step\", \n                \"engine\": \"duckduckgo\"\n            }\n            ],\n            \"expansion_deep_dive_queries\": [\n            \"tiramisu recipe without raw eggs\",\n            \"best ladyfingers for tiramisu\",\n            \"common tiramisu mistakes and how to fix them\"\n            ]\n        }\n        }\n        "
  },
  {
    "role": "user",
    "content": "hi"
  },
  {
    "role": "assistant",
    "content": "你好！我是TinyAISearch，由乐乐开发。有什么我可以帮助你的吗？😊"
  },
  {
    "role": "user",
    "content": "未来7天武汉天气"
  }
] (Line: 217 [keywords_extract.py])
INFO (2025-08-19 16:37:30): search_plan_data:{
  "query_analysis": {
    "original_query": "未来7天武汉天气",
    "identified_intent": "[Current_Event_Reporting]",
    "assessed_complexity": "[Moderate]",
    "key_entities": [
      "武汉",
      "未来7天",
      "天气"
    ],
    "implicit_questions": [
      "武汉接下来一周的天气变化趋势是什么？",
      "武汉未来7天是否有降雨或高温预警？"
    ]
  },
  "search_plan": {
    "foundational_queries": [
      {
        "query": "武汉未来7天天气预报",
        "engine": "baidu"
      },
      {
        "query": "Wuhan 7-day weather forecast",
        "engine": "duckduckgo"
      }
    ],
    "expansion_deep_dive_queries": [
      "武汉未来一周气温变化趋势",
      "武汉未来7天是否会有强降雨",
      "武汉未来一周空气质量预测"
    ]
  }
} (Line: 128 [search_web.py])
INFO (2025-08-19 16:37:30): Baidu搜索 '武汉未来7天天气预报' (Line: 146 [search_web.py])
INFO (2025-08-19 16:37:30): DuckDuckGo搜索 'Wuhan 7-day weather forecast' (Line: 149 [search_web.py])
INFO (2025-08-19 16:37:31): response: https://html.duckduckgo.com/html 202 (Line: 464 [lib.rs])
INFO (2025-08-19 16:37:33): response: https://lite.duckduckgo.com/lite/ 202 (Line: 464 [lib.rs])
WARNING (2025-08-19 16:37:33): DuckDuckGo搜索 'Wuhan 7-day weather forecast' 时出错: https://lite.duckduckgo.com/lite/ 202 Ratelimit. 将回退到Google搜索。 (Line: 68 [search_web.py])
INFO (2025-08-19 16:37:33): Google搜索 'Wuhan 7-day weather forecast' (Line: 90 [search_web.py])
ERROR (2025-08-19 16:37:35): Skipping invalid link for query '武汉未来7天天气预报': /s?wd=%E6%AD%A6%E6%B1%89%E6%9C%AA%E6%9D%A5%E4%B8%83%E5%A4%A9%E5%A4%A9%E6%B0%94&usm=1&ie=utf-8&rsv_pq=bcb5d825004ddfa9&oq=%E6%AD%A6%E6%B1%89%E6%9C%AA%E6%9D%A57%E5%A4%A9%E5%A4%A9%E6%B0%94%E9%A2%84%E6%8A%A5&rsv_t=30876nsxghdGIhCdV%2Bk%2BUkhBrF0MTsxr7boJie3f5b4PriKjVn3a21NblfU&rsf=101633403&rsv_dl=0_prs_28608_1 (Line: 149 [crawl_web.py])
INFO (2025-08-19 16:37:35): Detected encoding for https://tianqi.eastday.com/wuhan/30/: utf-8 (confidence: 0.99) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:36): Detected encoding for https://baidu.weather.com.cn/mweather/101200101.shtml: UTF-8-SIG (confidence: 1.0) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:36): Detected encoding for http://m.src.weather.com.cn/mweather15d/101200101.shtml: UTF-8-SIG (confidence: 1.0) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:36): Detected encoding for http://waptianqi.2345.com/wuhan-57494.htm#!/stealingyourhistory: GB2312 (confidence: 0.99) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:36): Detected encoding for https://tianqi.eastday.com/wuhan/7/: utf-8 (confidence: 0.99) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:36): Detected encoding for http://uc.weather.com.cn/mweather15d/101200101.shtml: UTF-8-SIG (confidence: 1.0) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:36): Detected encoding for https://weathernew.pae.baidu.com/weathernew/pc?query=%E6%B9%96%E5%8C%97%E6%AD%A6%E6%B1%89%E5%A4%A9%E6%B0%94&srcid=4982&forecast=long_day_forecast: ascii (confidence: 1.0) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:36): Detected encoding for http://uc.weather.com.cn/mweather/101200101.shtml: UTF-8-SIG (confidence: 1.0) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:36): Re-decoded HTML with detected encoding: ascii (Line: 103 [crawl_web.py])
INFO (2025-08-19 16:37:36): ruthless removal did not work.  (Line: 231 [readability.py])
INFO (2025-08-19 16:37:36): Readability extraction failed, using body tag for https://weathernew.pae.baidu.com/weathernew/pc?query=%E6%B9%96%E5%8C%97%E6%AD%A6%E6%B1%89%E5%A4%A9%E6%B0%94&srcid=4982&forecast=long_day_forecast (Line: 113 [crawl_web.py])
WARNING (2025-08-19 16:37:36): Text validity check failed for https://weathernew.pae.baidu.com/weathernew/pc?query=%E6%B9%96%E5%8C%97%E6%AD%A6%E6%B1%89%E5%A4%A9%E6%B0%94&srcid=4982&forecast=long_day_forecast, attempting encoding fixes (Line: 123 [crawl_web.py])
WARNING (2025-08-19 16:37:36): Content for http://www.baidu.com/link?url=Us0whVZ4hQs1LUBum-qalt3yU1Y7DCRyWReLZewhhjxeNEdPktHvB7vViMjVcOBLvIdCGawK23PWdtdgTXtGRur5Mn_XthWKxLqv9RxAf7f4_Xj4U_ahwP-Mm65kKd7UaU0geNsR0v8SWU-EFs3hHH77XM6oKn5ao2kNXnOy47_a5-DmjnWsn4gLDIzLb1Z40aFJNtMI_4M3pgWtULzLkq is too short or empty after cleaning (Line: 218 [crawl_web.py])
INFO (2025-08-19 16:37:36): Re-decoded HTML with detected encoding: GB2312 (Line: 103 [crawl_web.py])
INFO (2025-08-19 16:37:37): ruthless removal did not work.  (Line: 231 [readability.py])
INFO (2025-08-19 16:37:37): Re-decoded HTML with detected encoding: UTF-8-SIG (Line: 103 [crawl_web.py])
INFO (2025-08-19 16:37:37): ruthless removal did not work.  (Line: 231 [readability.py])
WARNING (2025-08-19 16:37:37): Text validity check failed for https://baidu.weather.com.cn/mweather/101200101.shtml, attempting encoding fixes (Line: 123 [crawl_web.py])
WARNING (2025-08-19 16:37:37): Content for http://www.baidu.com/link?url=96GL7r8vrBjIbN3szgrV5QNFeS_6u7ihzgrs2CiGYSQ79dHcGLuOOcwIExTlzzDTLbV3E2sXYgSi53uv-pxWoK is too short or empty after cleaning (Line: 218 [crawl_web.py])
INFO (2025-08-19 16:37:37): Re-decoded HTML with detected encoding: UTF-8-SIG (Line: 103 [crawl_web.py])
INFO (2025-08-19 16:37:37): ruthless removal did not work.  (Line: 231 [readability.py])
INFO (2025-08-19 16:37:37): Re-decoded HTML with detected encoding: utf-8 (Line: 103 [crawl_web.py])
WARNING (2025-08-19 16:37:37): Text validity check failed for http://uc.weather.com.cn/mweather/101200101.shtml, attempting encoding fixes (Line: 123 [crawl_web.py])
WARNING (2025-08-19 16:37:37): Content for http://www.baidu.com/link?url=Us0whVZ4hQs1LUBum-qal8XiuvPyUjRevSf6S-YBE15PRBokNrSL-gSbo-pft8Q1y0QrWSBXbs7rm5Lj-8yGEq is too short or empty after cleaning (Line: 218 [crawl_web.py])
INFO (2025-08-19 16:37:37): Re-decoded HTML with detected encoding: UTF-8-SIG (Line: 103 [crawl_web.py])
INFO (2025-08-19 16:37:37): Re-decoded HTML with detected encoding: UTF-8-SIG (Line: 103 [crawl_web.py])
INFO (2025-08-19 16:37:38): Re-decoded HTML with detected encoding: utf-8 (Line: 103 [crawl_web.py])
INFO (2025-08-19 16:37:38): Detected encoding for https://m.weather.com.cn/d/town/index?lat=30.594015&lon=114.263496: utf-8 (confidence: 0.99) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:38): Re-decoded HTML with detected encoding: utf-8 (Line: 103 [crawl_web.py])
INFO (2025-08-19 16:37:38): ruthless removal did not work.  (Line: 231 [readability.py])
WARNING (2025-08-19 16:37:38): Text validity check failed for https://m.weather.com.cn/d/town/index?lat=30.594015&lon=114.263496, attempting encoding fixes (Line: 123 [crawl_web.py])
WARNING (2025-08-19 16:37:38): Content for http://www.baidu.com/link?url=zYrufHSwA_f_zF-ofI-k22-Q2FOUiGrEoo8o77xx-9fKvY5jAqkB7R1Kgpr5OVwtcuEWo5qmBQF1tzDdfrCqUMPeGC5n0ZEUD-yddtorTie is too short or empty after cleaning (Line: 218 [crawl_web.py])
ERROR (2025-08-19 16:37:38): Client error 400 for https://www.sciencedirect.com/science/article/pii/S0147651322007163. Won't retry. (Line: 178 [crawl_web.py])
ERROR (2025-08-19 16:37:39): Client error 403 for https://ehp.niehs.nih.gov/10847. Won't retry. (Line: 178 [crawl_web.py])
INFO (2025-08-19 16:37:39): Detected encoding for https://www.timeanddate.com/weather/china/wuhan/ext: ascii (confidence: 1.0) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:39): Re-decoded HTML with detected encoding: ascii (Line: 103 [crawl_web.py])
INFO (2025-08-19 16:37:40): Detected encoding for https://www.accuweather.com/en/cn/wuhan/103847/weather-forecast/103847: ISO-8859-1 (confidence: 0.73) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:40): Re-decoded HTML with detected encoding: ISO-8859-1 (Line: 103 [crawl_web.py])
INFO (2025-08-19 16:37:40): Detected encoding for https://bmcpublichealth.biomedcentral.com/articles/10.1186/s12889-020-10131-7: ascii (confidence: 1.0) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:40): Re-decoded HTML with detected encoding: ascii (Line: 103 [crawl_web.py])
INFO (2025-08-19 16:37:41): Detected encoding for https://www.bbc.com/weather/1791247: ISO-8859-1 (confidence: 0.73) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:42): Re-decoded HTML with detected encoding: ISO-8859-1 (Line: 103 [crawl_web.py])
WARNING (2025-08-19 16:37:42): HEAD request failed for https://weather.com/en-GB/weather/tenday/l/Hongshan+District+Hubei+People's+Republic+of+China?canonicalCityId=6debf3e8305ae96ebf69decbaea7f047, will try direct GET: _ssl.c:990: The handshake operation timed out (Line: 174 [crawl_web.py])
INFO (2025-08-19 16:37:43): Detected encoding for https://weather.com/weather/tenday/l/2637660151899903e8cbdd23636051470b6731863286ec74b3033421cb87e1e8?traffic_source=footerNav_Tenday: ascii (confidence: 1.0) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:44): Re-decoded HTML with detected encoding: ascii (Line: 103 [crawl_web.py])
INFO (2025-08-19 16:37:44): Detected encoding for https://weather.com/weather/monthly/l/2637660151899903e8cbdd23636051470b6731863286ec74b3033421cb87e1e8: ascii (confidence: 1.0) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:44): Re-decoded HTML with detected encoding: ascii (Line: 103 [crawl_web.py])
INFO (2025-08-19 16:37:44): Detected encoding for https://www.nature.com/articles/s41598-018-20318-z: ascii (confidence: 1.0) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:45): Detected encoding for https://weather.com/en-GB/weather/tenday/l/Hongshan+District+Hubei+People's+Republic+of+China?canonicalCityId=6debf3e8305ae96ebf69decbaea7f047: ascii (confidence: 1.0) (Line: 94 [crawl_web.py])
INFO (2025-08-19 16:37:45): Re-decoded HTML with detected encoding: ascii (Line: 103 [crawl_web.py])
INFO (2025-08-19 16:37:46): Re-decoded HTML with detected encoding: ascii (Line: 103 [crawl_web.py])
INFO (2025-08-19 16:37:46): crawled_results: {
  "武汉未来7天天气预报": [
    {
      "id": 2,
      "title": "【武汉天气预报15天_武汉天气预报15天查询】-中国天气网",
      "link": "http://www.baidu.com/link?url=IUe7tGUH7s2AZnwKmaGxLp1bhNiWm8nE0YevtJWcqhEJEZGCx_hRKzudn5Z7PwtOYrENvThHmXTnd7-8zMPc9mBcASvdH6QJKdyK6ph2lEm",
      "content": "815天天气预报，是集合多家全球数值天气预报模式客观预报产品加工而成，未经预报员主观订正，反映未来一段时间内天气变化趋势，具有一定的不确定性，供公众参考，欲知更加准确的天气预报需随时关注短期天气预报和最新预报信息更新。"
    },
    {
      "id": 3,
      "title": "【武汉天气预报15天_武汉天气预报15天查询】-中国天气网",
      "link": "http://www.baidu.com/link?url=TfG-EXLFNRvSBsfm4VRVAMEXl5eyndnw92A4z7_lG0CSPtS0rYkM8gzPrTYTuEw0l3KDd0F-RkZoY99DLOfFfa",
      "content": "815天天气预报，是集合多家全球数值天气预报模式客观预报产品加工而成，未经预报员主观订正，反映未来一段时间内天气变化趋势，具有一定的不确定性，供公众参考，欲知更加准确的天气预报需随时关注短期天气预报和最新预报信息更新。"
    },
    {
      "id": 4,
      "title": "武汉天气预报一周,7天,10天,15天,未来一周天气预报查询_2345天气...",
      "link": "http://www.baidu.com/link?url=w9bksBGQLagd8gLb77csdDtAxNCkJivPCnaFe5k5HBspTDuL0TgQmGfaaA1_Skf_r-6LJ6U0VETQBkeSI9tBvo8pI0OHxT4Kp4MVKn3YLB7",
      "content": "今日生活指数 无需带伞 少发感冒 紫外线很强 较适宜晨练 适宜晾晒 不适宜钓鱼 较适宜旅游 高温排行榜"
    },
    {
      "id": 7,
      "title": "武汉天气预报30天_武汉天气预报30天查询,武汉未来30天天气预报...",
      "link": "http://www.baidu.com/link?url=TfG-EXLFNRvSBsfm4VRVAWFU6147uEbDgUVLG-qUd5Ai7YBoUTlMLdibAue8C9Ry",
      "content": "云南孩童头部刺入小刀被送医：已及时手术 正住院治疗 8月15日,有网友发布视频称，在云南一处医院门口，一名“头上插刀”的女孩被母亲带着走了进来，这女孩年龄看起来并不大，而她的头上，插着一把水果刀。 20250816"
    },
    {
      "id": 8,
      "title": "...天气预报一周,武汉未来一周天气,武汉7天天气预报查询 - 东方天气",
      "link": "http://www.baidu.com/link?url=KYLFmYHJc0hRaD2NwrwSP5WUeMazpz2sMRbXZa2fr__TQUGbIfGhdYqWDTAxzvl1",
      "content": "云南孩童头部刺入小刀被送医：已及时手术 正住院治疗 8月15日,有网友发布视频称，在云南一处医院门口，一名“头上插刀”的女孩被母亲带着走了进来，这女孩年龄看起来并不大，而她的头上，插着一把水果刀。 20250816"
    }
  ],
  "Wuhan 7-day weather forecast": [
    {
      "id": 0,
      "title": "10-Day Weather Forecast for Wuhan, Hubei, People's Republic of ...",
      "link": "https://weather.com/weather/tenday/l/2637660151899903e8cbdd23636051470b6731863286ec74b3033421cb87e1e8?traffic_source=footerNav_Tenday",
      "content": "Day Chance of a shower or two during the morning, followed by partly cloudy skies in the afternoon. High around 95F. Winds NE at 5 to 10 mph. Chance of rain 30. Night Cloudy with showers. Low near 80F. Winds light and variable. Chance of rain 50."
    },
    {
      "id": 2,
      "title": "Monthly Weather Forecast for Wuhan, Hubei, People's Republic of ...",
      "link": "https://weather.com/weather/monthly/l/2637660151899903e8cbdd23636051470b6731863286ec74b3033421cb87e1e8",
      "content": "Night Partly cloudy. Low 84F. Winds S at 10 to 15 mph."
    },
    {
      "id": 4,
      "title": "10-day weather forecast for Hongshan District, Hubei, People's ...",
      "link": "https://weather.com/en-GB/weather/tenday/l/Hongshan+District+Hubei+People's+Republic+of+China?canonicalCityId=6debf3e8305ae96ebf69decbaea7f047",
      "content": "Day Morning showers. High 32C. Winds NNE at 5 to 10 mph. Chance of rain 60. Night Showers late at night. Low 25C. Winds NNE at 5 to 10 mph. Chance of rain 30."
    },
    {
      "id": 5,
      "title": "Wuhan, Hubei, China Weather Forecast | AccuWeather",
      "link": "https://www.accuweather.com/en/cn/wuhan/103847/weather-forecast/103847",
      "content": "Static Radar Temporarily Unavailable Thank you for your patience as we work to get everything up and running again. Refresh Page"
    },
    {
      "id": 6,
      "title": "Quantifying the influence of temperature on hand, foot and mouth ...",
      "link": "https://www.nature.com/articles/s41598-018-20318-z",
      "content": "Chan, K. P. et al . Epidemic hand, foot and mouth disease caused by human enterovirus 71, Singapore. Emerging infectious diseases 9 , 7885, 2003.     Yang, S. et al . Epidemiological features of and changes in incidence of infectious diseases in China in the first decade after the SARS outbreak: an observational trend study. The Lancet. Infectious diseases , 2017. Chong, P., Liu, C. C., Chow, Y. H., Chou, A. H.  Klein, M. Review of enterovirus 71 vaccines. Clinical infectious diseases: an offici..."
    },
    {
      "id": 7,
      "title": "Wuhan, Hubei, China 14 day weather forecast",
      "link": "https://www.timeanddate.com/weather/china/wuhan/ext",
      "content": "Wuhan Extended Forecast with high and low temperatures"
    },
    {
      "id": 8,
      "title": "The association between ambient temperature and mortality of the ...",
      "link": "https://bmcpublichealth.biomedcentral.com/articles/10.1186/s12889-020-10131-7",
      "content": "Jones KE, Patel NG, Levy MA, Storeygard A, Balk D, Gittleman JL, et al. Global trends in emerging infectious diseases. Nature. 2008;4517181:9903. .      Malvy D, McElroy AK, de Clerck H, Gnther S, van Griensven J. Ebola virus disease. Lancet. 2019;39310174:93648. .    Brachman PS. Infectious diseases  past, present, and future. Int J Epidemiol. 2003;325:6846. .    Farrar J. Science, innovation and society: what we need to prepare for the health challenges of the twentyfirst century? Int Health. ..."
    },
    {
      "id": 9,
      "title": "Wuhan - BBC Weather",
      "link": "https://www.bbc.com/weather/1791247",
      "content": "Sunny , 0 chance of precipitation , Wind speed 8 mph 12 kmh SSW 8 mph 12 kmh South South Westerly , More detailsÂ"
    }
  ]
} (Line: 267 [crawl_web.py])
INFO (2025-08-19 16:37:46): 检索版本: v2 (Line: 327 [AISearchServer.py])
INFO (2025-08-19 16:37:46): Embedding all unique queries... (Line: 108 [pages_retrieve.py])
INFO (2025-08-19 16:37:46): Processing 5 pages for query: '武汉未来7天天气预报' (Line: 117 [pages_retrieve.py])
INFO (2025-08-19 16:37:46): Calculating embedding similarities... (Line: 120 [pages_retrieve.py])
INFO (2025-08-19 16:37:46): Calculating BM25 similarities... (Line: 125 [pages_retrieve.py])
DEBUG (2025-08-19 16:37:46): Building prefix dict from the default dictionary ... (Line: 113 [__init__.py])
DEBUG (2025-08-19 16:37:46): Loading model from cache C:\Users\熊乐乐\AppData\Local\Temp\jieba.cache (Line: 132 [__init__.py])
DEBUG (2025-08-19 16:37:47): Loading model cost 0.472 seconds. (Line: 164 [__init__.py])
DEBUG (2025-08-19 16:37:47): Prefix dict has been built successfully. (Line: 166 [__init__.py])
INFO (2025-08-19 16:37:47): Sorted pages: [
  {
    "id": 4,
    "title": "武汉天气预报一周,7天,10天,15天,未来一周天气预报查询_2345天气...",
    "link": "http://www.baidu.com/link?url=w9bksBGQLagd8gLb77csdDtAxNCkJivPCnaFe5k5HBspTDuL0TgQmGfaaA1_Skf_r-6LJ6U0VETQBkeSI9tBvo8pI0OHxT4Kp4MVKn3YLB7",
    "content": "今日生活指数 无需带伞 少发感冒 紫外线很强 较适宜晨练 适宜晾晒 不适宜钓鱼 较适宜旅游 高温排行榜",
    "embedding_score": 0.22863875738387213,
    "bm25_score": 0.2512857251872719,
    "combined_score": 0.35428161997750807
  },
  {
    "id": 8,
    "title": "...天气预报一周,武汉未来一周天气,武汉7天天气预报查询 - 东方天气",
    "link": "http://www.baidu.com/link?url=KYLFmYHJc0hRaD2NwrwSP5WUeMazpz2sMRbXZa2fr__TQUGbIfGhdYqWDTAxzvl1",
    "content": "云南孩童头部刺入小刀被送医：已及时手术 正住院治疗 8月15日,有网友发布视频称，在云南一处医院门口，一名“头上插刀”的女孩被母亲带着走了进来，这女孩年龄看起来并不大，而她的头上，插着一把水果刀。 20250816",
    "embedding_score": 0.19892521563299026,
    "bm25_score": 0.22408573010825664,
    "combined_score": 0.31096808068711856
  },
  {
    "id": 2,
    "title": "【武汉天气预报15天_武汉天气预报15天查询】-中国天气网",
    "link": "http://www.baidu.com/link?url=IUe7tGUH7s2AZnwKmaGxLp1bhNiWm8nE0YevtJWcqhEJEZGCx_hRKzudn5Z7PwtOYrENvThHmXTnd7-8zMPc9mBcASvdH6QJKdyK6ph2lEm",
    "content": "815天天气预报，是集合多家全球数值天气预报模式客观预报产品加工而成，未经预报员主观订正，反映未来一段时间内天气变化趋势，具有一定的不确定性，供公众参考，欲知更加准确的天气预报需随时关注短期天气预报和最新预报信息更新。",
    "embedding_score": 0.19611089561688638,
    "bm25_score": 0.17580146415173578,
    "combined_score": 0.2840116276927543
  },
  {
    "id": 3,
    "title": "【武汉天气预报15天_武汉天气预报15天查询】-中国天气网",
    "link": "http://www.baidu.com/link?url=TfG-EXLFNRvSBsfm4VRVAMEXl5eyndnw92A4z7_lG0CSPtS0rYkM8gzPrTYTuEw0l3KDd0F-RkZoY99DLOfFfa",
    "content": "815天天气预报，是集合多家全球数值天气预报模式客观预报产品加工而成，未经预报员主观订正，反映未来一段时间内天气变化趋势，具有一定的不确定性，供公众参考，欲知更加准确的天气预报需随时关注短期天气预报和最新预报信息更新。",
    "embedding_score": 0.19611089561688638,
    "bm25_score": 0.17580146415173578,
    "combined_score": 0.2840116276927543
  },
  {
    "id": 7,
    "title": "武汉天气预报30天_武汉天气预报30天查询,武汉未来30天天气预报...",
    "link": "http://www.baidu.com/link?url=TfG-EXLFNRvSBsfm4VRVAWFU6147uEbDgUVLG-qUd5Ai7YBoUTlMLdibAue8C9Ry",
    "content": "云南孩童头部刺入小刀被送医：已及时手术 正住院治疗 8月15日,有网友发布视频称，在云南一处医院门口，一名“头上插刀”的女孩被母亲带着走了进来，这女孩年龄看起来并不大，而她的头上，插着一把水果刀。 20250816",
    "embedding_score": 0.18021423574936474,
    "bm25_score": 0.17302561640099984,
    "combined_score": 0.2667270439498647
  }
] (Line: 139 [pages_retrieve.py])
INFO (2025-08-19 16:37:47): Selected top 2 pages for query '武汉未来7天天气预报'. (Line: 141 [pages_retrieve.py])
INFO (2025-08-19 16:37:47): Processing 8 pages for query: 'Wuhan 7-day weather forecast' (Line: 117 [pages_retrieve.py])
INFO (2025-08-19 16:37:47): Calculating embedding similarities... (Line: 120 [pages_retrieve.py])
INFO (2025-08-19 16:37:47): Calculating BM25 similarities... (Line: 125 [pages_retrieve.py])
INFO (2025-08-19 16:37:47): Sorted pages: [
  {
    "id": 7,
    "title": "Wuhan, Hubei, China 14 day weather forecast",
    "link": "https://www.timeanddate.com/weather/china/wuhan/ext",
    "content": "Wuhan Extended Forecast with high and low temperatures",
    "embedding_score": 0.15420699756773787,
    "bm25_score": 0.7224972907393906,
    "combined_score": 0.5154556429374332
  },
  {
    "id": 4,
    "title": "10-day weather forecast for Hongshan District, Hubei, People's ...",
    "link": "https://weather.com/en-GB/weather/tenday/l/Hongshan+District+Hubei+People's+Republic+of+China?canonicalCityId=6debf3e8305ae96ebf69decbaea7f047",
    "content": "Day Morning showers. High 32C. Winds NNE at 5 to 10 mph. Chance of rain 60. Night Showers late at night. Low 25C. Winds NNE at 5 to 10 mph. Chance of rain 30.",
    "embedding_score": 0.12989005661516864,
    "bm25_score": 0.21239299208715134,
    "combined_score": 0.23608655265874431
  },
  {
    "id": 0,
    "title": "10-Day Weather Forecast for Wuhan, Hubei, People's Republic of ...",
    "link": "https://weather.com/weather/tenday/l/2637660151899903e8cbdd23636051470b6731863286ec74b3033421cb87e1e8?traffic_source=footerNav_Tenday",
    "content": "Day Chance of a shower or two during the morning, followed by partly cloudy skies in the afternoon. High around 95F. Winds NE at 5 to 10 mph. Chance of rain 30. Night Cloudy with showers. Low near 80F. Winds light and variable. Chance of rain 50.",
    "embedding_score": 0.14824898265009764,
    "bm25_score": 0.013862316337873121,
    "combined_score": 0.1551801408190342
  },
  {
    "id": 9,
    "title": "Wuhan - BBC Weather",
    "link": "https://www.bbc.com/weather/1791247",
    "content": "Sunny , 0 chance of precipitation , Wind speed 8 mph 12 kmh SSW 8 mph 12 kmh South South Westerly , More detailsÂ",
    "embedding_score": 0.13673424709748838,
    "bm25_score": 0.017701650555801487,
    "combined_score": 0.14558507237538912
  },
  {
    "id": 2,
    "title": "Monthly Weather Forecast for Wuhan, Hubei, People's Republic of ...",
    "link": "https://weather.com/weather/monthly/l/2637660151899903e8cbdd23636051470b6731863286ec74b3033421cb87e1e8",
    "content": "Night Partly cloudy. Low 84F. Winds S at 10 to 15 mph.",
    "embedding_score": 0.13648371951123486,
    "bm25_score": 0.009991398590584835,
    "combined_score": 0.14147941880652729
  },
  {
    "id": 5,
    "title": "Wuhan, Hubei, China Weather Forecast | AccuWeather",
    "link": "https://www.accuweather.com/en/cn/wuhan/103847/weather-forecast/103847",
    "content": "Static Radar Temporarily Unavailable Thank you for your patience as we work to get everything up and running again. Refresh Page",
    "embedding_score": 0.127640437260298,
    "bm25_score": 0.009953810264566581,
    "combined_score": 0.1326173423925813
  },
  {
    "id": 6,
    "title": "Quantifying the influence of temperature on hand, foot and mouth ...",
    "link": "https://www.nature.com/articles/s41598-018-20318-z",
    "content": "Chan, K. P. et al . Epidemic hand, foot and mouth disease caused by human enterovirus 71, Singapore. Emerging infectious diseases 9 , 7885, 2003.     Yang, S. et al . Epidemiological features of and changes in incidence of infectious diseases in China in the first decade after the SARS outbreak: an observational trend study. The Lancet. Infectious diseases , 2017. Chong, P., Liu, C. C., Chow, Y. H., Chou, A. H.  Klein, M. Review of enterovirus 71 vaccines. Clinical infectious diseases: an offici...",
    "embedding_score": 0.08744120880017262,
    "bm25_score": 0.006800808092473206,
    "combined_score": 0.09084161284640922
  },
  {
    "id": 8,
    "title": "The association between ambient temperature and mortality of the ...",
    "link": "https://bmcpublichealth.biomedcentral.com/articles/10.1186/s12889-020-10131-7",
    "content": "Jones KE, Patel NG, Levy MA, Storeygard A, Balk D, Gittleman JL, et al. Global trends in emerging infectious diseases. Nature. 2008;4517181:9903. .      Malvy D, McElroy AK, de Clerck H, Gnther S, van Griensven J. Ebola virus disease. Lancet. 2019;39310174:93648. .    Brachman PS. Infectious diseases  past, present, and future. Int J Epidemiol. 2003;325:6846. .    Farrar J. Science, innovation and society: what we need to prepare for the health challenges of the twentyfirst century? Int Health. ...",
    "embedding_score": 0.07935435049780203,
    "bm25_score": 0.006799733332158877,
    "combined_score": 0.08275421716388147
  }
] (Line: 139 [pages_retrieve.py])
INFO (2025-08-19 16:37:47): Selected top 2 pages for query 'Wuhan 7-day weather forecast'. (Line: 141 [pages_retrieve.py])
INFO (2025-08-19 16:37:47): retreival_context:[
  {
    "id": 4,
    "title": "武汉天气预报一周,7天,10天,15天,未来一周天气预报查询_2345天气...",
    "link": "http://www.baidu.com/link?url=w9bksBGQLagd8gLb77csdDtAxNCkJivPCnaFe5k5HBspTDuL0TgQmGfaaA1_Skf_r-6LJ6U0VETQBkeSI9tBvo8pI0OHxT4Kp4MVKn3YLB7",
    "content": "今日生活指数 无需带伞 少发感冒 紫外线很强 较适宜晨练 适宜晾晒 不适宜钓鱼 较适宜旅游 高温排行榜",
    "embedding_score": 0.22863875738387213,
    "bm25_score": 0.2512857251872719,
    "combined_score": 0.35428161997750807
  },
  {
    "id": 8,
    "title": "...天气预报一周,武汉未来一周天气,武汉7天天气预报查询 - 东方天气",
    "link": "http://www.baidu.com/link?url=KYLFmYHJc0hRaD2NwrwSP5WUeMazpz2sMRbXZa2fr__TQUGbIfGhdYqWDTAxzvl1",
    "content": "云南孩童头部刺入小刀被送医：已及时手术 正住院治疗 8月15日,有网友发布视频称，在云南一处医院门口，一名“头上插刀”的女孩被母亲带着走了进来，这女孩年龄看起来并不大，而她的头上，插着一把水果刀。 20250816",
    "embedding_score": 0.19892521563299026,
    "bm25_score": 0.22408573010825664,
    "combined_score": 0.31096808068711856
  },
  {
    "id": 7,
    "title": "Wuhan, Hubei, China 14 day weather forecast",
    "link": "https://www.timeanddate.com/weather/china/wuhan/ext",
    "content": "Wuhan Extended Forecast with high and low temperatures",
    "embedding_score": 0.15420699756773787,
    "bm25_score": 0.7224972907393906,
    "combined_score": 0.5154556429374332
  },
  {
    "id": 4,
    "title": "10-day weather forecast for Hongshan District, Hubei, People's ...",
    "link": "https://weather.com/en-GB/weather/tenday/l/Hongshan+District+Hubei+People's+Republic+of+China?canonicalCityId=6debf3e8305ae96ebf69decbaea7f047",
    "content": "Day Morning showers. High 32C. Winds NNE at 5 to 10 mph. Chance of rain 60. Night Showers late at night. Low 25C. Winds NNE at 5 to 10 mph. Chance of rain 30.",
    "embedding_score": 0.12989005661516864,
    "bm25_score": 0.21239299208715134,
    "combined_score": 0.23608655265874431
  }
] (Line: 120 [response.py])
INFO (2025-08-19 16:37:47): response_stage_messages:[
  {
    "role": "system",
    "content": "# Role and Goal\n        You are a top-tier AI Search Analyst. Your primary mission is to provide the user with a comprehensive, accurate, and critically-evaluated answer. You must synthesize and deeply analyze the provided search results, not just summarize them.\n        You will be provided with the following information:\n        1.  **CURRENT_DATE**: The current date,if user's question is  related to current date,you should use it.\n        2.  **IMPLICIT_QUESTIONS**: The underlying, deeper questions inferred from the user's query, which reveal their true intent.\n        3.  **SEARCH_RESULTS**: A list of web pages containing a `Title`, `Content`. Treat this as raw, unverified data that requires rigorous scrutiny.\n\n        **Step 1: Deconstruct the User's Need**\n        -   Thoroughly analyze the `USER_QUERY` and all `IMPLICIT_QUESTIONS`. This is the key to understanding the full scope of what the user wants to know. Your final answer must address all of these points.\n\n        **Step 2: Critically Evaluate the Search Results**\n        -   **NEVER blindly trust the search results.** Your core value lies in your ability to analyze and vet information.\n        -   **Cross-Validate Information**: Compare all search sources to identify points of consensus and disagreement.\n        -   **Identify Contradictions**: If different sources provide conflicting information, you MUST explicitly point out these discrepancies in your answer. If possible, offer a plausible explanation for the conflict (e.g., different timeframes, differing perspectives, or reporting errors).\n        -   **Assess Information Quality**: A well-reasoned article with specific data is more credible than a simple, unsubstantiated claim. Note when a source appears to be of low quality.\n        -   **Identify Information Gaps**: If the search results are incomplete or cannot fully answer the user's question, state this clearly and specify what information is missing.\n\n        **Step 3: Synthesize a High-Value Answer**\n        -   **Structure Your Answer Logically**: Begin with a direct answer, then provide a detailed explanation using headings, lists, and bold text for clarity.\n        -   **Synthesize, Don't List**: Weave the validated information from multiple sources into a single, coherent, and easy-to-understand narrative. Your output should be a new piece of value-added content.\n        -   **Maintain an Objective, Analytical Tone**: Clearly present facts and distinguish them from speculation or conflicting reports.\n        -   Your answer must use the same language as the user's question.\n        -   The final output must be a well-written, thoughtful, and comprehensive response that directly answers the user's explicit and implicit questions.\n        -   The answer must be grounded in the provided search results but elevated by your critical analysis.\n        -   If there is not enough information to provide a definitive answer, explain why and what information is missing.\n        \n        CURRENT_DATE:\n        2025-08-19\n\n        IMPLICIT_QUESTIONS:\n        [\n  \"武汉接下来一周的天气变化趋势是什么？\",\n  \"武汉未来7天是否有降雨或高温预警？\"\n]\n\n        SEARCH_RESULTS:\n        [\n  {\n    \"Title\": \"武汉天气预报一周,7天,10天,15天,未来一周天气预报查询_2345天气...\",\n    \"Content\": \"今日生活指数 无需带伞 少发感冒 紫外线很强 较适宜晨练 适宜晾晒 不适宜钓鱼 较适宜旅游 高温排行榜\"\n  },\n  {\n    \"Title\": \"...天气预报一周,武汉未来一周天气,武汉7天天气预报查询 - 东方天气\",\n    \"Content\": \"云南孩童头部刺入小刀被送医：已及时手术 正住院治疗 8月15日,有网友发布视频称，在云南一处医院门口，一名“头上插刀”的女孩被母亲带着走了进来，这女孩年龄看起来并不大，而她的头上，插着一把水果刀。 20250816\"\n  },\n  {\n    \"Title\": \"Wuhan, Hubei, China 14 day weather forecast\",\n    \"Content\": \"Wuhan Extended Forecast with high and low temperatures\"\n  },\n  {\n    \"Title\": \"10-day weather forecast for Hongshan District, Hubei, People's ...\",\n    \"Content\": \"Day Morning showers. High 32C. Winds NNE at 5 to 10 mph. Chance of rain 60. Night Showers late at night. Low 25C. Winds NNE at 5 to 10 mph. Chance of rain 30.\"\n  }\n]\n        \n        \n        \n        "
  },
  {
    "role": "user",
    "content": "hi"
  },
  {
    "role": "assistant",
    "content": "你好！我是TinyAISearch，由乐乐开发。有什么我可以帮助你的吗？😊"
  },
  {
    "role": "user",
    "content": "未来7天武汉天气"
  }
] (Line: 178 [response.py])
INFO (2025-08-19 16:37:47): 开始调用LLM API (search_generate)... (Line: 182 [response.py])
INFO (2025-08-19 16:37:47): LLM API调用完成 (search_generate)，耗时: 0.41秒 (Line: 194 [response.py])
INFO (2025-08-19 16:37:47): 收到第一个chunk (search_generate)，总耗时: 0.41秒 (Line: 199 [response.py])
INFO (2025-08-19 16:37:54): 流式响应完成 (search_generate)，总共处理了124个chunks (Line: 213 [response.py])
INFO (2025-08-19 16:37:54): 参考来源: [
  {
    "武汉天气预报一周,7天,10天,15天,未来一周天气预报查询_2345天气...": "http://www.baidu.com/link?url=w9bksBGQLagd8gLb77csdDtAxNCkJivPCnaFe5k5HBspTDuL0TgQmGfaaA1_Skf_r-6LJ6U0VETQBkeSI9tBvo8pI0OHxT4Kp4MVKn3YLB7"
  },
  {
    "...天气预报一周,武汉未来一周天气,武汉7天天气预报查询 - 东方天气": "http://www.baidu.com/link?url=KYLFmYHJc0hRaD2NwrwSP5WUeMazpz2sMRbXZa2fr__TQUGbIfGhdYqWDTAxzvl1"
  },
  {
    "Wuhan, Hubei, China 14 day weather forecast": "https://www.timeanddate.com/weather/china/wuhan/ext"
  },
  {
    "10-day weather forecast for Hongshan District, Hubei, People's ...": "https://weather.com/en-GB/weather/tenday/l/Hongshan+District+Hubei+People's+Republic+of+China?canonicalCityId=6debf3e8305ae96ebf69decbaea7f047"
  }
] (Line: 365 [AISearchServer.py])
INFO (2025-08-19 16:37:54): 助手回复及参考来源已添加至会话 af76f4b7-f3b4-40ef-bcee-e111d278db47 (Line: 372 [AISearchServer.py])
